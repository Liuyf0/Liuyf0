<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="MySQL CURD"><meta name="keywords" content=""><meta name="author" content="fan,2743357832@qq.com"><meta name="copyright" content="fan"><title>MySQL CURD | fanのblog</title><link rel="shortcut icon" href="/melody-favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.7.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.7.0"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  }
} </script><meta name="generator" content="Hexo 4.2.0"></head><body><canvas class="fireworks"></canvas><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="false"><div class="toggle-sidebar-info text-center"><span data-toggle="Toggle article">Toggle site</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-选择数据库"><span class="toc-number">1.</span> <span class="toc-text">1. 选择数据库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-检索数据"><span class="toc-number">2.</span> <span class="toc-text">2. 检索数据</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-过滤数据"><span class="toc-number">3.</span> <span class="toc-text">3. 过滤数据</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-计算字段"><span class="toc-number">4.</span> <span class="toc-text">4. 计算字段</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-函数"><span class="toc-number">5.</span> <span class="toc-text">5. 函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-分组数据"><span class="toc-number">6.</span> <span class="toc-text">6. 分组数据</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-子查询"><span class="toc-number">7.</span> <span class="toc-text">7. 子查询</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-联结"><span class="toc-number">8.</span> <span class="toc-text">8. 联结</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-组合查询"><span class="toc-number">9.</span> <span class="toc-text">9. 组合查询</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-全文本搜索"><span class="toc-number">10.</span> <span class="toc-text">10. 全文本搜索</span></a></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="/img/avatar.png"></div><div class="author-info__name text-center">fan</div><div class="author-info__description text-center"></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">Articles</span><span class="pull-right">7</span></a></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(https://github.com/wu-shuan/image_store/raw/master/blog/111.jpg)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">fanのblog</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">首页</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a></span><span class="pull-right"></span></div><div id="post-info"><div id="post-title">MySQL CURD</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-02-04</time></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><hr>
<h2 id="1-选择数据库"><a href="#1-选择数据库" class="headerlink" title="1. 选择数据库"></a>1. 选择数据库</h2><ul>
<li>1.使用USE,如:<code>USE crashcourse;</code>   </li>
<li>2.mysql显示结果为：<code>Database changed</code>   </li>
<li>3.显示可用数据库列表:<code>SHOW DATABASES;</code>  </li>
</ul>
<h2 id="2-检索数据"><a href="#2-检索数据" class="headerlink" title="2. 检索数据"></a>2. 检索数据</h2><ul>
<li>1.SELECT+FROM语句：用于单个列,多个列，*可检索所有列，如:<code>SELECT * FROM products;</code>  </li>
<li>2.LIMIT：限制结果。<code>LIMIT 5</code>：不多于5行。<code>LIMIT 4,5</code>:返回从行4开始的5行（注意行0），等价<code>LIMIT 5 OFFSET 4</code>  </li>
<li>3.ORDER BY：排序数据，默认升序，降序使用：DESC,如：<code>ORDER BY prod_price DESC， prod_name;</code>  </li>
</ul>
<h2 id="3-过滤数据"><a href="#3-过滤数据" class="headerlink" title="3. 过滤数据"></a>3. 过滤数据</h2><ul>
<li>1.WHERE子句：不等于<code>&lt;&gt;</code>或<code>!=</code>，BETWEEN:在指定两个值之间，如：<code>WHERE prod_price BETWEEN 5 AND 10</code>  </li>
<li>2.空值检查：<code>WHERE prod_price IS NULL</code> 结果包含<code>NULL</code>  </li>
<li>3.AND OR IN ：<code>IN</code>与<code>OR</code>可以转换，<code>IN</code>一般比<code>OR</code>快  </li>
<li>4.NOT：否定之后所跟任何条件</li>
<li>5.通配符：%：任何字符出现任意次数(包括0次)<code>WHERE prod_name LIKE &#39;jet%&#39;</code>,&emsp;&emsp;_：匹配单个字符  </li>
<li>6.正则表达式：匹配文本的特殊的串（字符集合）<code>WHERE prod_name REGEXP &#39;...&#39;</code>,使用BINARY区分大小写：<code>REGEXP BINARY</code>，使用OR匹配：<code>WHERE prod_name REGEXP &#39;1000|2000|3000&#39;</code>,匹配几个字符之一：<code>WHERE prod_name REGEXP &#39;[123] Ton&#39;</code>匹配1 Ton、2 Ton、3 Ton,等价<code>WHERE prod_name REGEXP &#39;[1-3] Ton&#39;</code>,字符否定<code>[^123] Ton</code>,匹配特殊字符：<code>WHERE prod_name REGEXP &#39;\\.&#39;</code></li>
</ul>
<h2 id="4-计算字段"><a href="#4-计算字段" class="headerlink" title="4. 计算字段"></a>4. 计算字段</h2><p>存储在数据库表中的数据一般不是应用程序需要的格式，这就是计算字段发挥作用的所在，计算字段并不实际存在于数据库表中，计算字段是运行时在SELECT语句内创建的。</p>
<ul>
<li>1.拼接字段  <ul>
<li>1）.Concat()：把多个串连接起来形成一个较长的串。需指定一个或多个串，各个串之间用逗号分隔。如：<code>SELECT Concat(vend_name, &#39; (&#39;, vend_country, &#39;)&#39;)</code>  </li>
<li>2）.使用别名：<code>SELECT Concat(vend_name, &#39; (&#39;, vend_country, &#39;)&#39;) AS vend_title</code>  </li>
<li>3）.去掉多余空格：三种：RTrim(),LTrim(),Trim(),<code>SELECT Concat(RTrim(vend_name), &#39; (&#39;, vend_country, &#39;)&#39;)</code></li>
</ul>
</li>
<li>2.执行算术计算<br>利用加<code>+</code>减<code>-</code>乘<code>*</code>除<code>/</code>基本运算符  </li>
</ul>
<h2 id="5-函数"><a href="#5-函数" class="headerlink" title="5. 函数"></a>5. 函数</h2><ul>
<li>1.文本处理函数</li>
<li>2.日期和时间处理函数</li>
<li>3.数值处理函数 </li>
<li>4.聚集函数 </li>
</ul>
<h2 id="6-分组数据"><a href="#6-分组数据" class="headerlink" title="6. 分组数据"></a>6. 分组数据</h2><p>分组允许把数据分为多个逻辑组。  </p>
<ul>
<li>1.GROUP BY：  <ul>
<li>1）GROUP BY子句可以包含任意数目的列。</li>
<li>2）除聚集计算语句外，SELECT语句中的每个列都必须在GROUP BY子句中给出。</li>
<li>3）如果分组中具有NULL值。则NULL将作为一个分组返回。如果列中有多个NULL值，他们将分为一组。</li>
</ul>
</li>
<li>2.过滤分组：<br>HAVING非常类似于WHERE，WHERE过滤行，HAVING过滤分组。    </li>
</ul>
<p>例:  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT cust_id, COUNT(*) AS orders</span><br><span class="line">FROM orders</span><br><span class="line">GROUP BY cust_id</span><br><span class="line">HAVING COUNT(*) &gt;= 2;</span><br></pre></td></tr></table></figure>

<h2 id="7-子查询"><a href="#7-子查询" class="headerlink" title="7. 子查询"></a>7. 子查询</h2><p>嵌套在其他查询中的查询。</p>
<p>例：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">SELECT cust_name, cust_contact</span><br><span class="line">FROM customers</span><br><span class="line">WHERE cust_id IN (SELECT cust_id</span><br><span class="line">                  FROM orders</span><br><span class="line">                  WHERE order_num IN (SELECT order_num</span><br><span class="line">                                      FROM orderitems</span><br><span class="line">                                      WHERE prod_id = <span class="string">'TNT2'</span>));</span><br></pre></td></tr></table></figure>

<h2 id="8-联结"><a href="#8-联结" class="headerlink" title="8. 联结"></a>8. 联结</h2><p>联结是一种机制，是SQL中最重要最强大的特性，用来在一条SELECT语句中关联表，联结不是物理实体，它在实际的数据库表中并不存在。</p>
<ul>
<li>1.主键：一列（或一组列），其值能够唯一区分表中每个行。 表中的任何列满足以下条件都可以作为主键 <ul>
<li>1）.任意两行都不具有相同的主键值。</li>
<li>2）.每个行都必须具有一个主键值（主键值不允许NULL值）。</li>
</ul>
</li>
<li>2.外键：某个表中的一列，它包含另一个表的主键值，定义了两个表之间的关系。</li>
<li>3.创建联结：规定要联结的所有表以及它们如何关联即可，应该保证所有的联结都有WHERE子句，见例8-1。</li>
<li>4.表别名：只在查询执行中使用，与列别名不一样，表别名不返回到客户机。如：<code>FROM customers AS c, orders AS o, orderitems AS oi</code></li>
<li>5.自联结：见例8-2。</li>
<li>6.外部联结：联结包含了那些在相关表中没有关联行的行（NULL）。使用LEFT,RIGHT。见例8-3。</li>
</ul>
<p>例8-1：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">SELECT vend_name, prod_name, prod_price</span><br><span class="line">FROM vendors, products</span><br><span class="line">WHERE vendors.vend_id = products.vend_id</span><br><span class="line">ORDER BY vend_name, prod_name;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">使用稍微不同的语法明确指定联结的类型：</span><br><span class="line"></span><br><span class="line">SELECT vend_name, prod_name, prod_price</span><br><span class="line">FROM vendors INNER JOIN products</span><br><span class="line">ON vendors.vend_id = products.vend_id</span><br><span class="line">ORDER BY vend_name, prod_name;</span><br></pre></td></tr></table></figure>
<p>例8-2：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT p1.prod_id, p1.prod_name</span><br><span class="line">FROM products AS p1, products AS p2</span><br><span class="line">WHERE p1.vend_id = p2.vend_id</span><br><span class="line">  AND p2.prod_id = <span class="string">'DTNTR'</span></span><br></pre></td></tr></table></figure>
<p>例8-3：  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT customers.cust_id, order.order_num</span><br><span class="line">FROM customers LEFT OUTER JOIN orders</span><br><span class="line">ON customers.cust_id = order.cust_id;</span><br></pre></td></tr></table></figure>
<h2 id="9-组合查询"><a href="#9-组合查询" class="headerlink" title="9. 组合查询"></a>9. 组合查询</h2><p>可用UNION操作符来组合数条SQL查询。UNION规则：</p>
<ul>
<li>1.必须有两条或两条以上的SELECT语句组成</li>
<li>2.每个查询必须包含相同的列、表达式或聚集函数（不过各个列不需要以相同的次序列出）</li>
<li>3.列类型必须兼容：类型不必完全相同，但必须是DBMS可以隐含转换的类型。</li>
<li>4.UNION ALL:返回所有列，包括重复的。</li>
</ul>
<h2 id="10-全文本搜索"><a href="#10-全文本搜索" class="headerlink" title="10. 全文本搜索"></a>10. 全文本搜索</h2></div></article><div class="post-meta__tag-list"></div><nav id="pagination"><div class="prev-post pull-left"><a href="/2020/02/04/MarkDown%E4%B8%80%E4%BA%9B%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/"><i class="fa fa-chevron-left">  </i><span>MarkDown一些基本语法</span></a></div></nav></div></div><footer class="footer-bg" style="background-image: url(https://github.com/wu-shuan/image_store/raw/master/blog/111.jpg)"><div class="layout" id="footer"><div class="copyright">&copy;2013 - 2020 By fan</div><div class="framework-info"><span>Driven - </span><a href="http://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody" target="_blank" rel="noopener"><span>Melody</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.7.0"></script><script src="/js/fancybox.js?version=1.7.0"></script><script src="/js/sidebar.js?version=1.7.0"></script><script src="/js/copy.js?version=1.7.0"></script><script src="/js/fireworks.js?version=1.7.0"></script><script src="/js/transition.js?version=1.7.0"></script><script src="/js/scroll.js?version=1.7.0"></script><script src="/js/head.js?version=1.7.0"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script></body></html>